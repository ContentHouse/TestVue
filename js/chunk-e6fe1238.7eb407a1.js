(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e6fe1238"],{"057f":function(e,t,r){var n=r("fc6a"),o=r("241c").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return o(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?s(e):o(n(e))}},"11e4":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.loaded?r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("b-form",{staticClass:"form-signin",on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-4 col-sm-8"},[r("b-form-group",{attrs:{label:"Name"}},[r("b-form-input",{attrs:{type:"text",placeholder:"Name",required:"",autofocus:"",autocomplete:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-8"},[r("b-form-group",{attrs:{label:"Description"}},[r("b-form-input",{attrs:{type:"text",placeholder:"Description",required:"",autocomplete:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)],1)]),r("hr",{staticClass:"mb-4"}),r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.productModal",modifiers:{productModal:!0}}]},[e._v("Add Product")]),r("b-table",{attrs:{striped:"",hover:"",small:"",items:e.products.items,fields:e.products.fields},scopedSlots:e._u([{key:"cell(priceOrder)",fn:function(t){return[r("b-form-input",{model:{value:t.item.priceOrder,callback:function(r){e.$set(t.item,"priceOrder",r)},expression:"row.item.priceOrder"}})]}},{key:"cell(action)",fn:function(t){return[r("a",{attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),e.removeProduct(t)}}},[e._v("delete")])]}}],null,!1,996622629)})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.zoneModal",modifiers:{zoneModal:!0}}]},[e._v("Add Zone")]),r("b-table",{attrs:{striped:"",hover:"",small:"",items:e.zones.items,fields:e.zones.fields},scopedSlots:e._u([{key:"cell(action)",fn:function(t){return[r("a",{attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),e.removeZone(t)}}},[e._v("delete")])]}}],null,!1,1123486867)})],1)]),r("hr",{staticClass:"mb-4"}),r("b-button",{attrs:{squared:"",block:"",variant:"dark",type:"submit"}},[e._v("Save")])],1)],1),r("b-modal",{attrs:{id:"productModal",title:"Available Products","ok-only":""}},[r("b-table",{attrs:{striped:"",hover:"",small:"",items:e.availableProducts,fields:e.list.products.fields},scopedSlots:e._u([{key:"cell(action)",fn:function(t){return[r("a",{attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),e.addProduct(t)}}},[e._v("add")])]}}],null,!1,2102359897)})],1),r("b-modal",{attrs:{id:"zoneModal",title:"Available Zones","ok-only":""}},[r("b-table",{attrs:{striped:"",hover:"",small:"",items:e.availableZones,fields:e.list.zones.fields},scopedSlots:e._u([{key:"cell(action)",fn:function(t){return[r("a",{attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),e.addZone(t)}}},[e._v("add")])]}}],null,!1,447479596)})],1)],1):e._e()},o=[],i=(r("a4d3"),r("e01a"),r("4de4"),r("d81d"),r("a434"),r("b0c0"),r("96cf"),r("1da1")),a={props:{productType:String,packageId:String},computed:{isNew:function(){return"new"==this.packageId},availableProducts:function(){var e=this,t=this.list.products.items.filter((function(t){return 0==e.products.items.filter((function(e){return e.productId==t.productId})).length}));return t},availableZones:function(){var e=this,t=this.list.zones.items.filter((function(t){return console.log(e.zones),0==e.zones.items.filter((function(e){return e.zoneId==t.zoneId})).length}));return t}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.load();case 2:case"end":return t.stop()}}),t)})))()},methods:{load:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={includes:"filterlist.zones,filterlist.products"},n="BackendServices/Packages/".concat(e.packageId),t.next=5,e.$http.get(n,{query:r});case 5:o=t.sent,e.name=o.name,e.description=o.description,e.products.items=o.products,e.zones.items=o.zones,e.list.zones.items=o.filterList.zones,e.list.products.items=o.filterList.products,e.loaded=!0,t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),e.$event.$emit("error",t.t0.message);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},addProduct:function(e){var t=this.list.products.items.filter((function(t){return t.productId==e.item.productId}))[0];this.products.items.push({productId:t.productId,name:t.name,serviceTypeName:t.serviceTypeName,serviceCategoryName:t.serviceCategoryName,productType:t.productType,priceOrder:t.priceOrder})},removeProduct:function(e){this.products.items.splice(e.index,1)},addZone:function(e){var t=this.list.zones.items.filter((function(t){return t.zoneId==e.item.zoneId}))[0];this.zones.items.push({zoneId:t.zoneId,name:t.name})},removeZone:function(e){this.zones.items.splice(e.index,1)},submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isNew){t.next=5;break}return t.next=3,e.add();case 3:t.next=7;break;case 5:return t.next=7,e.update();case 7:case"end":return t.stop()}}),t)})))()},add:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(e.products.items.length<1)){t.next=3;break}throw new Error("Products required");case 3:return r=e.products.items.map((function(e){return{productId:e.productId,priceOrder:parseFloat(e.priceOrder)}})),n=e.zones.items.map((function(e){return{zoneId:e.zoneId}})),o={name:e.name,description:e.description,products:r,zones:n},i="BackendServices/Packages",t.next=9,e.$http.post(i,{body:o});case 9:e.$router.push({name:"products"}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),e.$event.$emit("error",t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},update:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(e.products.items.length<1)){t.next=3;break}throw new Error("Products required");case 3:return r=e.products.items.map((function(e){return{productId:e.productId,priceOrder:parseFloat(e.priceOrder)}})),n=e.zones.items.map((function(e){return{zoneId:e.zoneId}})),o={name:e.name,description:e.description,products:r,zones:n},i="BackendServices/Packages/".concat(e.packageId),t.next=9,e.$http.patch(i,{body:o});case 9:e.$router.push({name:"products"}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),e.$event.$emit("error",t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}},data:function(){return{name:"",description:"",zones:{items:[],fields:[{key:"name"},{key:"action",label:""}]},products:{items:[],fields:[{key:"name",sortable:!0},{key:"serviceTypeName",sortable:!0,label:"Service Type"},{key:"serviceCategoryName",sortable:!0,label:"Service Category"},{key:"productType",sortable:!0},{key:"priceOrder",sortable:!0},{key:"action",label:""}]},list:{zones:{items:[],fields:[{key:"name"},{key:"action",label:""}]},products:{items:[],fields:[{key:"name",sortable:!0},{key:"serviceTypeName",sortable:!0,label:"Service Type"},{key:"serviceCategoryName",sortable:!0,label:"Service Category"},{key:"productType",sortable:!0},{key:"action",label:""}]}},loaded:!1}}},s=a,c=r("2877"),u=Object(c["a"])(s,n,o,!1,null,null,null);t["default"]=u.exports},"4de4":function(e,t,r){"use strict";var n=r("23e7"),o=r("b727").filter,i=r("1dde"),a=r("ae40"),s=i("filter"),c=a("filter");n({target:"Array",proto:!0,forced:!s||!c},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"746f":function(e,t,r){var n=r("428f"),o=r("5135"),i=r("e538"),a=r("9bf2").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},a434:function(e,t,r){"use strict";var n=r("23e7"),o=r("23cb"),i=r("a691"),a=r("50c4"),s=r("7b0b"),c=r("65f0"),u=r("8418"),l=r("1dde"),d=r("ae40"),f=l("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,b=Math.min,v=9007199254740991,h="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f||!p},{splice:function(e,t){var r,n,l,d,f,p,y=s(this),g=a(y.length),k=o(e,g),w=arguments.length;if(0===w?r=n=0:1===w?(r=0,n=g-k):(r=w-2,n=b(m(i(t),0),g-k)),g+r-n>v)throw TypeError(h);for(l=c(y,n),d=0;d<n;d++)f=k+d,f in y&&u(l,d,y[f]);if(l.length=n,r<n){for(d=k;d<g-n;d++)f=d+n,p=d+r,f in y?y[p]=y[f]:delete y[p];for(d=g;d>g-n+r;d--)delete y[d-1]}else if(r>n)for(d=g-n;d>k;d--)f=d+n-1,p=d+r-1,f in y?y[p]=y[f]:delete y[p];for(d=0;d<r;d++)y[d+k]=arguments[d+2];return y.length=g-n+r,l}})},a4d3:function(e,t,r){"use strict";var n=r("23e7"),o=r("da84"),i=r("d066"),a=r("c430"),s=r("83ab"),c=r("4930"),u=r("fdbf"),l=r("d039"),d=r("5135"),f=r("e8b5"),p=r("861d"),m=r("825a"),b=r("7b0b"),v=r("fc6a"),h=r("c04e"),y=r("5c6c"),g=r("7c73"),k=r("df75"),w=r("241c"),S=r("057f"),O=r("7418"),z=r("06cf"),x=r("9bf2"),I=r("d1e7"),C=r("9112"),P=r("6eeb"),N=r("5692"),j=r("f772"),$=r("d012"),T=r("90e3"),_=r("b622"),R=r("e538"),E=r("746f"),M=r("d44e"),D=r("69f3"),Z=r("b727").forEach,A=j("hidden"),q="Symbol",F="prototype",J=_("toPrimitive"),B=D.set,L=D.getterFor(q),Q=Object[F],W=o.Symbol,G=i("JSON","stringify"),H=z.f,K=x.f,U=S.f,V=I.f,X=N("symbols"),Y=N("op-symbols"),ee=N("string-to-symbol-registry"),te=N("symbol-to-string-registry"),re=N("wks"),ne=o.QObject,oe=!ne||!ne[F]||!ne[F].findChild,ie=s&&l((function(){return 7!=g(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=H(Q,t);n&&delete Q[t],K(e,t,r),n&&e!==Q&&K(Q,t,n)}:K,ae=function(e,t){var r=X[e]=g(W[F]);return B(r,{type:q,tag:e,description:t}),s||(r.description=t),r},se=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},ce=function(e,t,r){e===Q&&ce(Y,t,r),m(e);var n=h(t,!0);return m(r),d(X,n)?(r.enumerable?(d(e,A)&&e[A][n]&&(e[A][n]=!1),r=g(r,{enumerable:y(0,!1)})):(d(e,A)||K(e,A,y(1,{})),e[A][n]=!0),ie(e,n,r)):K(e,n,r)},ue=function(e,t){m(e);var r=v(t),n=k(r).concat(me(r));return Z(n,(function(t){s&&!de.call(r,t)||ce(e,t,r[t])})),e},le=function(e,t){return void 0===t?g(e):ue(g(e),t)},de=function(e){var t=h(e,!0),r=V.call(this,t);return!(this===Q&&d(X,t)&&!d(Y,t))&&(!(r||!d(this,t)||!d(X,t)||d(this,A)&&this[A][t])||r)},fe=function(e,t){var r=v(e),n=h(t,!0);if(r!==Q||!d(X,n)||d(Y,n)){var o=H(r,n);return!o||!d(X,n)||d(r,A)&&r[A][n]||(o.enumerable=!0),o}},pe=function(e){var t=U(v(e)),r=[];return Z(t,(function(e){d(X,e)||d($,e)||r.push(e)})),r},me=function(e){var t=e===Q,r=U(t?Y:v(e)),n=[];return Z(r,(function(e){!d(X,e)||t&&!d(Q,e)||n.push(X[e])})),n};if(c||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=T(e),r=function(e){this===Q&&r.call(Y,e),d(this,A)&&d(this[A],t)&&(this[A][t]=!1),ie(this,t,y(1,e))};return s&&oe&&ie(Q,t,{configurable:!0,set:r}),ae(t,e)},P(W[F],"toString",(function(){return L(this).tag})),P(W,"withoutSetter",(function(e){return ae(T(e),e)})),I.f=de,x.f=ce,z.f=fe,w.f=S.f=pe,O.f=me,R.f=function(e){return ae(_(e),e)},s&&(K(W[F],"description",{configurable:!0,get:function(){return L(this).description}}),a||P(Q,"propertyIsEnumerable",de,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:W}),Z(k(re),(function(e){E(e)})),n({target:q,stat:!0,forced:!c},{for:function(e){var t=String(e);if(d(ee,t))return ee[t];var r=W(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(d(te,e))return te[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!s},{create:le,defineProperty:ce,defineProperties:ue,getOwnPropertyDescriptor:fe}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pe,getOwnPropertySymbols:me}),n({target:"Object",stat:!0,forced:l((function(){O.f(1)}))},{getOwnPropertySymbols:function(e){return O.f(b(e))}}),G){var be=!c||l((function(){var e=W();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}));n({target:"JSON",stat:!0,forced:be},{stringify:function(e,t,r){var n,o=[e],i=1;while(arguments.length>i)o.push(arguments[i++]);if(n=t,(p(t)||void 0!==e)&&!se(e))return f(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!se(t))return t}),o[1]=t,G.apply(null,o)}})}W[F][J]||C(W[F],J,W[F].valueOf),M(W,q),$[A]=!0},b0c0:function(e,t,r){var n=r("83ab"),o=r("9bf2").f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/,c="name";n&&!(c in i)&&o(i,c,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},e01a:function(e,t,r){"use strict";var n=r("23e7"),o=r("83ab"),i=r("da84"),a=r("5135"),s=r("861d"),c=r("9bf2").f,u=r("e893"),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new l(e):void 0===e?l():l(e);return""===e&&(d[t]=!0),t};u(f,l);var p=f.prototype=l.prototype;p.constructor=f;var m=p.toString,b="Symbol(test)"==String(l("test")),v=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=m.call(e);if(a(d,e))return"";var r=b?t.slice(7,-1):t.replace(v,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:f})}},e538:function(e,t,r){var n=r("b622");t.f=n}}]);
//# sourceMappingURL=chunk-e6fe1238.7eb407a1.js.map